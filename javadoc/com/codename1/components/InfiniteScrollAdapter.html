<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Mon Feb 22 15:20:52 IST 2016 -->
<title>InfiniteScrollAdapter (Codename One API)</title>
<meta name="date" content="2016-02-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InfiniteScrollAdapter (Codename One API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":9,"i3":9,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><h3>Codename One API</h3></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/codename1/components/InfiniteProgress.html" title="class in com.codename1.components"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/codename1/components/InteractionDialog.html" title="class in com.codename1.components"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/codename1/components/InfiniteScrollAdapter.html" target="_top">Frames</a></li>
<li><a href="InfiniteScrollAdapter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.codename1.components</div>
<h2 title="Class InfiniteScrollAdapter" class="title">Class InfiniteScrollAdapter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.codename1.components.InfiniteScrollAdapter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">InfiniteScrollAdapter</span>
extends <a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></pre>
<div class="block"><p>Allows adapting a scroll container to scroll indefinitely (or at least until
 running out of data), this effectively works by showing an infinite progress
 indicator when reaching scroll end then allowing code to fetch additional components.</p>
 
 <p>
 The sample code shows the usage of the nestoria API to fill out an infinitely scrolling list.
 </p>
 <script src="https://gist.github.com/codenameone/af27af111ba766627363.js"></script>
<noscript><pre><code> Form hi = new Form("InfiniteScrollAdapter", new BoxLayout(BoxLayout.Y_AXIS));

Style s = UIManager.getInstance().getComponentStyle("MultiLine1");
FontImage p = FontImage.createMaterial(FontImage.MATERIAL_PORTRAIT, s);
EncodedImage placeholder = EncodedImage.createFromImage(p.scaled(p.getWidth() * 3, p.getHeight() * 3), false); 

InfiniteScrollAdapter.createInfiniteScroll(hi.getContentPane(), () -&gt; { 
    java.util.List&lt;Map&lt;String, Object&gt;&gt; data = fetchPropertyData("Leeds"); 
    MultiButton[] cmps = new MultiButton[data.size()];
    for(int iter = 0 ; iter &lt; cmps.length ; iter++) {
        Map&lt;String, Object&gt; currentListing = data.get(iter);
        if(currentListing == null) { 
            InfiniteScrollAdapter.addMoreComponents(hi.getContentPane(), new Component[0], false);
            return;
        }
        String thumb_url = (String)currentListing.get("thumb_url");
        String guid = (String)currentListing.get("guid");
        String summary = (String)currentListing.get("summary");
        cmps[iter] = new MultiButton(summary);
        cmps[iter].setIcon(URLImage.createToStorage(placeholder, guid, thumb_url));
    }
    InfiniteScrollAdapter.addMoreComponents(hi.getContentPane(), cmps, true);
}, true); </code></pre></noscript>
 
 <img src="https://www.codenameone.com/img/developer-guide/components-infinitescrolladapter.png" alt="Sample usage of infinite scroll adapter" /><br><br>
 
 <script src="https://gist.github.com/codenameone/22efe9e04e2b8986dfc3.js"></script>
<noscript><pre><code> int pageNumber = 1;
java.util.List&lt;Map&lt;String, Object&gt;&gt; fetchPropertyData(String text) {
    try {
        ConnectionRequest r = new ConnectionRequest();
        r.setPost(false);
        r.setUrl("http://api.nestoria.co.uk/api");
        r.addArgument("pretty", "0");
        r.addArgument("action", "search_listings");
        r.addArgument("encoding", "json");
        r.addArgument("listing_type", "buy");
        r.addArgument("page", "" + pageNumber);
        pageNumber++;
        r.addArgument("country", "uk");
        r.addArgument("place_name", text);
        NetworkManager.getInstance().addToQueueAndWait(r);
        Map&lt;String,Object&gt; result = new JSONParser().parseJSON(new InputStreamReader(new ByteArrayInputStream(r.getResponseData()), "UTF-8"));
        Map&lt;String, Object&gt; response = (Map&lt;String, Object&gt;)result.get("response");
        return (java.util.List&lt;Map&lt;String, Object&gt;&gt;)response.get("listings");
    } catch(Exception err) {
        Log.e(err);
        return null;
    }
}</code></pre></noscript></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#addMoreComponents-com.codename1.ui.Component:A-boolean-">addMoreComponents</a></span>(<a href="../../../com/codename1/ui/Component.html" title="class in com.codename1.ui">Component</a>[]&nbsp;components,
                 boolean&nbsp;areThereMore)</code>
<div class="block">Invoke this method to add additional components to the container, if you use 
 addComponent/removeComponent you will get undefined behavior.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#addMoreComponents-com.codename1.ui.Container-com.codename1.ui.Component:A-boolean-">addMoreComponents</a></span>(<a href="../../../com/codename1/ui/Container.html" title="class in com.codename1.ui">Container</a>&nbsp;cnt,
                 <a href="../../../com/codename1/ui/Component.html" title="class in com.codename1.ui">Component</a>[]&nbsp;components,
                 boolean&nbsp;areThereMore)</code>
<div class="block">Invoke this method to add additional components to the container, if you use 
 addComponent/removeComponent you will get undefined behavior.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../com/codename1/components/InfiniteScrollAdapter.html" title="class in com.codename1.components">InfiniteScrollAdapter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#createInfiniteScroll-com.codename1.ui.Container-java.lang.Runnable-">createInfiniteScroll</a></span>(<a href="../../../com/codename1/ui/Container.html" title="class in com.codename1.ui">Container</a>&nbsp;cont,
                    <a href="../../../java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;fetchMore)</code>
<div class="block">Creates an instance of the InfiniteScrollAdapter that will invoke the fetch more
 callback to fetch additional components, once that method completes its task it 
 should add the components via the addMoreComponents() invocation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/codename1/components/InfiniteScrollAdapter.html" title="class in com.codename1.components">InfiniteScrollAdapter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#createInfiniteScroll-com.codename1.ui.Container-java.lang.Runnable-boolean-">createInfiniteScroll</a></span>(<a href="../../../com/codename1/ui/Container.html" title="class in com.codename1.ui">Container</a>&nbsp;cont,
                    <a href="../../../java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;fetchMore,
                    boolean&nbsp;fetchOnCreate)</code>
<div class="block">Creates an instance of the InfiniteScrollAdapter that will invoke the fetch more
 callback to fetch additional components, once that method completes its task it 
 should add the components via the addMoreComponents() invocation.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#getComponentLimit--">getComponentLimit</a></span>()</code>
<div class="block">The component limit defines the number of components that should be within the infinite scroll adapter,
 if more than component limit is added then the appropriate number of components is removed from the top.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../com/codename1/components/InfiniteProgress.html" title="class in com.codename1.components">InfiniteProgress</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#getInfiniteProgress--">getInfiniteProgress</a></span>()</code>
<div class="block">Lets us manipulate the infinite progress object e.g.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/codename1/components/InfiniteScrollAdapter.html#setComponentLimit-int-">setComponentLimit</a></span>(int&nbsp;componentLimit)</code>
<div class="block">The component limit defines the number of components that should be within the infinite scroll adapter,
 if more than component limit is added then the appropriate number of components is removed from the top.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java/lang/Object.html#equals-java.lang.Object-">equals</a>, <a href="../../../java/lang/Object.html#getClass--">getClass</a>, <a href="../../../java/lang/Object.html#hashCode--">hashCode</a>, <a href="../../../java/lang/Object.html#notify--">notify</a>, <a href="../../../java/lang/Object.html#notifyAll--">notifyAll</a>, <a href="../../../java/lang/Object.html#toString--">toString</a>, <a href="../../../java/lang/Object.html#wait--">wait</a>, <a href="../../../java/lang/Object.html#wait-long-">wait</a>, <a href="../../../java/lang/Object.html#wait-long-int-">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createInfiniteScroll-com.codename1.ui.Container-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInfiniteScroll</h4>
<pre>public static&nbsp;<a href="../../../com/codename1/components/InfiniteScrollAdapter.html" title="class in com.codename1.components">InfiniteScrollAdapter</a>&nbsp;createInfiniteScroll(<a href="../../../com/codename1/ui/Container.html" title="class in com.codename1.ui">Container</a>&nbsp;cont,
                                                         <a href="../../../java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;fetchMore)</pre>
<div class="block">Creates an instance of the InfiniteScrollAdapter that will invoke the fetch more
 callback to fetch additional components, once that method completes its task it 
 should add the components via the addMoreComponents() invocation.
 Notice that the container MUST be empty when invoking this method, fetchMore 
 will be invoked immediately and you can add your data when ready.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cont</code> - the container to bind, it MUST be empty and must be scrollable on the Y axis</dd>
<dd><code>fetchMore</code> - a callback that will be invoked on the EDT to fetch more data (do not block this method)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of this class that can be used to add components</dd>
</dl>
</li>
</ul>
<a name="createInfiniteScroll-com.codename1.ui.Container-java.lang.Runnable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInfiniteScroll</h4>
<pre>public static&nbsp;<a href="../../../com/codename1/components/InfiniteScrollAdapter.html" title="class in com.codename1.components">InfiniteScrollAdapter</a>&nbsp;createInfiniteScroll(<a href="../../../com/codename1/ui/Container.html" title="class in com.codename1.ui">Container</a>&nbsp;cont,
                                                         <a href="../../../java/lang/Runnable.html" title="interface in java.lang">Runnable</a>&nbsp;fetchMore,
                                                         boolean&nbsp;fetchOnCreate)</pre>
<div class="block">Creates an instance of the InfiniteScrollAdapter that will invoke the fetch more
 callback to fetch additional components, once that method completes its task it 
 should add the components via the addMoreComponents() invocation.
 Notice that the container MUST be empty when invoking this method, fetchMore 
 will be invoked immediately and you can add your data when ready.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cont</code> - the container to bind, it MUST be empty and must be scrollable on the Y axis</dd>
<dd><code>fetchMore</code> - a callback that will be invoked on the EDT to fetch more data (do not block this method)</dd>
<dd><code>fetchOnCreate</code> - if true the fetchMore callback is called upon calling this method</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of this class that can be used to add components</dd>
</dl>
</li>
</ul>
<a name="addMoreComponents-com.codename1.ui.Container-com.codename1.ui.Component:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMoreComponents</h4>
<pre>public static&nbsp;void&nbsp;addMoreComponents(<a href="../../../com/codename1/ui/Container.html" title="class in com.codename1.ui">Container</a>&nbsp;cnt,
                                     <a href="../../../com/codename1/ui/Component.html" title="class in com.codename1.ui">Component</a>[]&nbsp;components,
                                     boolean&nbsp;areThereMore)</pre>
<div class="block">Invoke this method to add additional components to the container, if you use 
 addComponent/removeComponent you will get undefined behavior.
 This is a convenience method saving the need to keep the InfiniteScrollAdapter as a variable</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cnt</code> - container to add the components to</dd>
<dd><code>components</code> - the components to add</dd>
<dd><code>areThereMore</code> - whether additional components exist</dd>
</dl>
</li>
</ul>
<a name="addMoreComponents-com.codename1.ui.Component:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMoreComponents</h4>
<pre>public&nbsp;void&nbsp;addMoreComponents(<a href="../../../com/codename1/ui/Component.html" title="class in com.codename1.ui">Component</a>[]&nbsp;components,
                              boolean&nbsp;areThereMore)</pre>
<div class="block">Invoke this method to add additional components to the container, if you use 
 addComponent/removeComponent you will get undefined behavior.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>components</code> - the components to add</dd>
<dd><code>areThereMore</code> - whether additional components exist</dd>
</dl>
</li>
</ul>
<a name="getComponentLimit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getComponentLimit</h4>
<pre>public&nbsp;int&nbsp;getComponentLimit()</pre>
<div class="block">The component limit defines the number of components that should be within the infinite scroll adapter,
 if more than component limit is added then the appropriate number of components is removed from the top.
 This prevents running out of memory or performance overhead with too many components... 
 Notice that -1 is a special case value for no component limit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the componentLimit</dd>
</dl>
</li>
</ul>
<a name="setComponentLimit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setComponentLimit</h4>
<pre>public&nbsp;void&nbsp;setComponentLimit(int&nbsp;componentLimit)</pre>
<div class="block">The component limit defines the number of components that should be within the infinite scroll adapter,
 if more than component limit is added then the appropriate number of components is removed from the top.
 This prevents running out of memory or performance overhead with too many components... 
 Notice that -1 is a special case value for no component limit.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>componentLimit</code> - the componentLimit to set</dd>
</dl>
</li>
</ul>
<a name="getInfiniteProgress--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getInfiniteProgress</h4>
<pre>public&nbsp;<a href="../../../com/codename1/components/InfiniteProgress.html" title="class in com.codename1.components">InfiniteProgress</a>&nbsp;getInfiniteProgress()</pre>
<div class="block">Lets us manipulate the infinite progress object e.g. set the animation image etc.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the infinite progress component underlying this adapter</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Developed by <a href="https://www.codenameone.com/">Codename One</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/codename1/components/InfiniteProgress.html" title="class in com.codename1.components"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/codename1/components/InteractionDialog.html" title="class in com.codename1.components"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/codename1/components/InfiniteScrollAdapter.html" target="_top">Frames</a></li>
<li><a href="InfiniteScrollAdapter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
